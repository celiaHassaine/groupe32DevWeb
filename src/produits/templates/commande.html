{% extends 'produits_container.html' %}

{% block content %}
    <div id="commandes" class="d-none">
        <h2>Votre panier</h2>
        {% verbatim %}
            <table class="table">
                <tr>
                    <th>Nom</th>
                    <th>Prix</th>
                    <th>Quantité</th>
                    <th>Total</th>
                </tr>
                <tr v-for="produit in commande.produits" v-if="produit.quantite > 0">
                    <td>{{ produit.nom }}</td>
                    <td>{{ produit.prix_unitaire }} €</td>
                    <td>
                        <button v-on:click="enlever(produit)">-</button>
                        <input id="CODE" type="number" min="0" v-model="produit.quantite">
                        <button v-on:click="ajouter(produit)">+</button>
                    </td>
                    <td>{{ produit.prix_total }} €</td>
                </tr>
                <tr>
                    <th colspan="3"></th>
                    <th>{{ commande.prix_total }} €</th>
                </tr>
            </table>
        {% endverbatim %}
        <p class="text-right">
            <a class="btn btn-primary" href="/produits/commande/finaliser">Finaliser ma commande</a>
        </p>
    </div>
{% endblock %}
